import{a as y,X as r}from"./XComponent-gqGWi3a1.js";import{O as L}from"./OpenCardService-DI5upRg8.js";import{_ as M,r as C,H as x,o as V,j as z,c as d,d as u,m as n,l,k as v,s as I,F as p,e as t,g as D,z as s,y as A,x as h,p as H,f as R}from"./index-D_kmQFyZ.js";const X=[{label:"异常项",name:"exceptionItem"},{label:"备注",name:"remark"},{label:"审核人",name:"name"}],j=[{label:"产品名称",name:"productName"},{label:"产品译名",name:"translatedName"},{label:"客户名称",name:"customerName"},{label:"货币符号",name:"currency"},{label:"业务员",name:"businessPeople"}],F=[{label:"尺寸",name:"smallCardSize"},{label:"揭开口数量",name:"openingNumber"},{label:"小卡单价",name:"price"},{label:"刀模开口方向",name:"direction"},{label:"盒号位置",name:"boxCodePosition"},{label:"盒号",name:"boxCode"},{label:"盒数",name:"boxNumber"},{label:"每盒数量",name:"quantityPerBox"}],N=g=>(H("data-v-de892830"),g=g(),R(),g),U=N(()=>t("div",{class:"title"},"订单详情",-1)),q=N(()=>t("span",{class:"audit-title"},"审核详情",-1)),J={class:"exception-title"},Y={key:0,class:"items"},$={key:1,class:"items"},G={class:"generalInfo"},K={class:"value"},Q={class:"generalInfo"},W={class:"value"},Z={class:"generalInfo"},ee={class:"value-number"},ae={class:"value"},te={class:"value"},le={class:"value"},oe={class:"value"},se={class:"value"},de={class:"prize-title"},ne={class:"item-title"},ce=N(()=>t("div",{class:"dot"},null,-1)),ie={class:"generalInfo"},re={class:"value"},ue={class:"value"},_e={class:"value"},fe={class:"value"},pe={class:"value"},he={class:"value"},ve={__name:"DetailView",setup(g){const O=new L,b=C(""),w=C(!1),m=x({checkDetail:x(X.map(o=>({...o,datas:null}))),general:x(j.map(o=>({...o,datas:null}))),smallCard:x(F.map(o=>({...o,datas:null})))}),k=C({}),S=C([]);V(()=>{let o=JSON.parse(localStorage.getItem("orderDetails"));o=o.id,B(o)});const B=o=>{O.getDetails(o).then(i=>{delete i.data.id,i.data.adCardInfo&&(k.value=i.data.adCardInfo,k.value.adCard.forEach(e=>{for(const c in e)e[c]===null&&(e[c]="无")})),i.data.prizeMarkInfo&&(S.value=i.data.prizeMarkInfo,S.value.forEach(e=>{e.markType==="cash"?e.markType=0:e.markType==="holdCard"?e.markType=1:e.markType==="noPrize"?e.markType=2:e.markType==="userDefined"&&(e.markType=3),e.prizeMark.forEach(c=>{for(const a in c)(c[a]===null||c[a]==="")&&(c[a]="无")})})),P(i.data)})},P=o=>{o.checkDetail&&(b.value=o.checkDetail.checkStatus,b.value!=="0"&&(w.value=!0)),Object.keys(m).forEach(i=>{m[i].forEach(e=>{o[i]&&o[i][e.name]&&(e.datas=o[i][e.name]),e.datas==null||e.datas==""?e.datas="无":e.datas=="CNY"?e.datas="¥":e.datas=="USD"?e.datas="$":e.datas=String(e.datas).includes(",")?e.datas.split(","):e.datas,(e.name=="direction"||e.name=="boxCodePosition")&&E(e)})})},E=o=>{const i=[{text:"上",value:"T"},{text:"下",value:"B"},{text:"左",value:"L"},{text:"右",value:"R"}],e=[{text:"下左",value:"bottomleft"},{text:"下中",value:"bottomcenter"},{text:"下右",value:"bottomright"}];if(o.name=="direction"){let c=i.filter(a=>a.value==o.datas);c.length>0&&(o.datas=c[0].text)}else{let c=e.filter(a=>a.value==o.datas);c.length>0&&(o.datas=c[0].text)}};return(o,i)=>{const e=z("el-tag"),c=z("el-tooltip");return d(),u(p,null,[U,n(y,{cardStyle:{height:"auto"}},{default:l(()=>[t("div",{class:A(["audit",{"audit-bottom":!w.value}])},[q,b.value?(d(),v(e,{key:0,type:["warning","warning","success","danger"][b.value]},{default:l(()=>[D(s(["待审核","待审核","已通过","未通过"][b.value]),1)]),_:1},8,["type"])):I("",!0)],2),w.value?(d(!0),u(p,{key:0},h(m.checkDetail,a=>(d(),u("div",{class:"exception",key:a.name},[t("div",J,s(a.label),1),a.label==="异常项"?(d(),u("div",Y,[Array.isArray(a.datas)?(d(!0),u(p,{key:0},h(a.datas,(_,f)=>(d(),v(e,{color:"#0022991A",key:f},{default:l(()=>[D(s(_),1)]),_:2},1024))),128)):(d(),v(e,{key:1,color:"#0022991A"},{default:l(()=>[D(s(a.datas),1)]),_:2},1024))])):(d(),u("div",$,[t("span",null,s(a.datas),1)]))]))),128)):I("",!0)]),_:1}),n(y,{title:"通用信息",cardStyle:{height:"auto"},titleStyle:{color:"rgba(0, 0, 0, 0.8)"}},{default:l(()=>[t("div",G,[(d(!0),u(p,null,h(m.general,a=>(d(),v(r,{key:a.name,label:a.label,width:"15%",titleStyle:"#484848"},{default:l(()=>[t("div",K,s(a.datas),1)]),_:2},1032,["label"]))),128))])]),_:1}),n(y,{title:"小卡信息",cardStyle:{height:"auto"},titleStyle:{color:"rgba(0, 0, 0, 0.8)"}},{default:l(()=>[t("div",Q,[(d(!0),u(p,null,h(m.smallCard,a=>(d(),v(r,{key:a.name,label:a.label,width:"15%",titleStyle:"#484848"},{default:l(()=>[t("div",W,s(a.datas),1)]),_:2},1032,["label"]))),128))])]),_:1}),n(y,{title:"宣传卡信息",cardStyle:{height:"auto"},titleStyle:{color:"rgba(0, 0, 0, 0.8)"}},{default:l(()=>[t("div",Z,[n(r,{label:"宣传卡数量",width:"100%",titleStyle:"#484848",marginBottom:"16px"},{default:l(()=>[t("div",ee,s(k.value.adNumber),1)]),_:1})]),(d(!0),u(p,null,h(k.value.adCard,(a,_)=>(d(),u("div",{class:"generalInfo",key:_},[n(r,{label:"宣传卡"+(_+1)+" 有无揭开口",width:"15%",titleStyle:"#484848"},{default:l(()=>[t("div",ae,s(a.adUncover),1)]),_:2},1032,["label"]),n(r,{label:"宣传卡"+(_+1)+" 背景图",width:"15%",titleStyle:"#484848"},{default:l(()=>[n(c,{"popper-class":"tooltip-width",content:a.adImage,placement:"bottom",effect:"light"},{default:l(()=>[t("div",te,s(a.adImage),1)]),_:2},1032,["content"])]),_:2},1032,["label"]),n(r,{label:"宣传卡"+(_+1)+" 是否有揭开区",width:"15%",titleStyle:"#484848"},{default:l(()=>[t("div",le,s(a.adOpenRegion),1)]),_:2},1032,["label"]),n(r,{label:"宣传卡"+(_+1)+" 揭开区数量",width:"15%",titleStyle:"#484848"},{default:l(()=>[t("div",oe,s(a.adOpenRegionNumber),1)]),_:2},1032,["label"]),n(r,{label:"宣传卡"+(_+1)+" 备注",width:"15%",titleStyle:"#484848"},{default:l(()=>[n(c,{"popper-class":"tooltip-width",content:a.adComment,placement:"bottom",effect:"light"},{default:l(()=>[t("div",se,s(a.adComment),1)]),_:2},1032,["content"])]),_:2},1032,["label"])]))),128))]),_:1}),S.value.length>0?(d(),v(y,{key:0,title:"奖符",cardStyle:{height:"auto"},titleStyle:{color:"rgba(0, 0, 0, 0.8)"}},{default:l(()=>[(d(!0),u(p,null,h(S.value,(a,_)=>(d(),u("div",{class:"prize-card",key:_},[t("div",de,s(["现金奖","HOLD卡","不中奖","自定义玩法"][a.markType]),1),(d(!0),u(p,null,h(a.prizeMark,(f,T)=>(d(),u("div",{class:"item",key:T},[t("div",ne,[ce,t("span",null,s(["现金奖","HOLD卡","不中奖","自定义玩法"][a.markType])+s(T+1),1)]),t("div",ie,[n(r,{label:"名称",width:"15%",titleStyle:"#484848"},{default:l(()=>[t("div",re,s(f.markName),1)]),_:2},1024),n(r,{label:"文件",width:"15%",titleStyle:"#484848"},{default:l(()=>[n(c,{"popper-class":"tooltip-width",content:f.markImage,placement:"bottom",effect:"light"},{default:l(()=>[t("div",ue,s(f.markImage),1)]),_:2},1032,["content"])]),_:2},1024),n(r,{label:"金额",width:"15%",titleStyle:"#484848"},{default:l(()=>[t("div",_e,s(f.markAmount),1)]),_:2},1024),n(r,{label:"数量",width:"15%",titleStyle:"#484848"},{default:l(()=>[t("div",fe,s(f.markCount),1)]),_:2},1024),n(r,{label:"合计",width:"15%",titleStyle:"#484848"},{default:l(()=>[t("div",pe,s(f.markTotal),1)]),_:2},1024),n(r,{label:"备注",width:"15%",titleStyle:"#484848"},{default:l(()=>[n(c,{"popper-class":"tooltip-width",content:f.markComment,placement:"bottom",effect:"light"},{default:l(()=>[t("div",he,s(f.markComment),1)]),_:2},1032,["content"])]),_:2},1024)])]))),128))]))),128))]),_:1})):I("",!0)],64)}}},ge=M(ve,[["__scopeId","data-v-de892830"]]);export{ge as default};
